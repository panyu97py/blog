# 寻找两个正序数组的中位数

### 题目描述

给定两个大小为 `m` 和 `n` 的正序（从小到大）数组 `nums1` 和 `nums2`。

请你找出这两个正序数组的中位数，并且要求算法的时间复杂度为`O(log(m + n))`。

你可以假设 `nums1` 和 `nums2` 不会同时为空。

#### 示例1

```
nums1 = [1, 3]
nums2 = [2]

则中位数是 2.0
```

#### 示例 2

```
nums1 = [1, 2]
nums2 = [3, 4]

则中位数是 (2 + 3)/2 = 2.5
```

#### 题解

##### 题解一：暴力解法

###### 思路

根据题目描述及示例我们可以知道，用 len 表示合并后数组的长度如果是奇数，我们需要知道第 `（len+1）/2` 个数就可以了，如果遍历的话需要遍历 `Math.floor(len/2 ) + 1` 次。如果是偶数，我们需要知道第 `len/2`和 `len/2+1` 个数的值，也是需要遍历 `len/2+1` 次。所以遍历的话，奇数和偶数都是 `len/2+1` 次。

即：

* 若`len%2===1`中位数就是位于合并后数组`Math.floor(len/2)+1`的数字。
* 若`(m+n)%2===0`中位数就是位于合并后数组`len/2`和`len/2+1`的数字的平均数。

所以我们需要做的就是排序就可以了,这里我们采用指针法排序这样最多只需要移动`len/2+1`就能获得答案。

时间复杂度：遍历 `len/2+1` 次，`len=m+n`，所以时间复杂度是 `O(m+n)`。
空间复杂度：我们申请了常数个变量，也就是`m`，`n`，`len`，`pointer1`，`pointer2`，`newVal`，`oldVal` 以及 `i`。

总共 8 个变量，所以空间复杂度是 `O(1)`。

但这并不符合题目中要求的时间复杂度`O(log(m + n))`

###### 代码

```
/**
 * @param {number[]} nums1
 * @param {number[]} nums2
 * @return {number}
 */
var findMedianSortedArrays = function (nums1, nums2) {
    let m = nums1.length
    let n = nums2.length
    let len = m + n
    let pointer1 = 0, pointer2 = 0
    let newVal, oldVal
    for (let i = 0; i <= len / 2; i++) {
        oldVal = newVal
        if (pointer1 < m && (nums1[pointer1] <= nums2[pointer2] || pointer2 >= n)) {
            newVal = nums1[pointer1++]
        } else {
            newVal = nums2[pointer2++]
        }
    }
    if ((len % 2) === 0) {
        return (newVal + oldVal) / 2
    } else {
        return newVal
    }
};
```

##### 题解二：二分法

%23%23%23%20%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0%0A%E7%BB%99%E5%AE%9A%E4%B8%A4%E4%B8%AA%E5%A4%A7%E5%B0%8F%E4%B8%BA%20%60m%60%20%E5%92%8C%20%60n%60%20%E7%9A%84%E6%AD%A3%E5%BA%8F%EF%BC%88%E4%BB%8E%E5%B0%8F%E5%88%B0%E5%A4%A7%EF%BC%89%E6%95%B0%E7%BB%84%C2%A0%60nums1%60%20%E5%92%8C%C2%A0%60nums2%60%E3%80%82%0A%0A%E8%AF%B7%E4%BD%A0%E6%89%BE%E5%87%BA%E8%BF%99%E4%B8%A4%E4%B8%AA%E6%AD%A3%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E4%B8%AD%E4%BD%8D%E6%95%B0%EF%BC%8C%E5%B9%B6%E4%B8%94%E8%A6%81%E6%B1%82%E7%AE%97%E6%B3%95%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E4%B8%BA%60%C2%A0O(log(m%20%2B%20n))%60%E3%80%82%0A%0A%E4%BD%A0%E5%8F%AF%E4%BB%A5%E5%81%87%E8%AE%BE%C2%A0%60nums1%60%C2%A0%E5%92%8C%C2%A0%60nums2%60%C2%A0%E4%B8%8D%E4%BC%9A%E5%90%8C%E6%97%B6%E4%B8%BA%E7%A9%BA%E3%80%82%0A%0A%C2%A0%0A%0A%23%23%23%23%20%E7%A4%BA%E4%BE%8B1%0A%60%60%60%0Anums1%20%3D%20%5B1%2C%203%5D%0Anums2%20%3D%20%5B2%5D%0A%0A%E5%88%99%E4%B8%AD%E4%BD%8D%E6%95%B0%E6%98%AF%202.0%0A%60%60%60%0A%23%23%23%23%20%E7%A4%BA%E4%BE%8B%202%0A%60%60%60%0Anums1%20%3D%20%5B1%2C%202%5D%0Anums2%20%3D%20%5B3%2C%204%5D%0A%0A%E5%88%99%E4%B8%AD%E4%BD%8D%E6%95%B0%E6%98%AF%20(2%20%2B%203)%2F2%20%3D%202.5%0A%60%60%60%0A%0A%23%23%23%23%20%E9%A2%98%E8%A7%A3%0A%0A%23%23%23%23%23%20%E9%A2%98%E8%A7%A3%E4%B8%80%EF%BC%9A%E6%9A%B4%E5%8A%9B%E8%A7%A3%E6%B3%95%0A%23%23%23%23%23%23%20%E6%80%9D%E8%B7%AF%0A%E6%A0%B9%E6%8D%AE%E9%A2%98%E7%9B%AE%E6%8F%8F%E8%BF%B0%E5%8F%8A%E7%A4%BA%E4%BE%8B%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E7%9F%A5%E9%81%93%EF%BC%8C%E7%94%A8%20len%20%E8%A1%A8%E7%A4%BA%E5%90%88%E5%B9%B6%E5%90%8E%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6%E5%A6%82%E6%9E%9C%E6%98%AF%E5%A5%87%E6%95%B0%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%AC%AC%20%60%EF%BC%88len%2B1%EF%BC%89%2F2%60%20%E4%B8%AA%E6%95%B0%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9E%9C%E9%81%8D%E5%8E%86%E7%9A%84%E8%AF%9D%E9%9C%80%E8%A6%81%E9%81%8D%E5%8E%86%20%60Math.floor(len%2F2%20)%20%2B%201%60%20%E6%AC%A1%E3%80%82%E5%A6%82%E6%9E%9C%E6%98%AF%E5%81%B6%E6%95%B0%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E7%9F%A5%E9%81%93%E7%AC%AC%20%60len%2F2%60%E5%92%8C%20%60len%2F2%2B1%60%20%E4%B8%AA%E6%95%B0%E7%9A%84%E5%80%BC%EF%BC%8C%E4%B9%9F%E6%98%AF%E9%9C%80%E8%A6%81%E9%81%8D%E5%8E%86%20%60len%2F2%2B1%60%20%E6%AC%A1%E3%80%82%E6%89%80%E4%BB%A5%E9%81%8D%E5%8E%86%E7%9A%84%E8%AF%9D%EF%BC%8C%E5%A5%87%E6%95%B0%E5%92%8C%E5%81%B6%E6%95%B0%E9%83%BD%E6%98%AF%20%60len%2F2%2B1%60%20%E6%AC%A1%E3%80%82%0A%0A%E5%8D%B3%EF%BC%9A%0A*%20%E8%8B%A5%60len%252%3D%3D%3D1%60%E4%B8%AD%E4%BD%8D%E6%95%B0%E5%B0%B1%E6%98%AF%E4%BD%8D%E4%BA%8E%E5%90%88%E5%B9%B6%E5%90%8E%E6%95%B0%E7%BB%84%60Math.floor(len%2F2)%2B1%60%E7%9A%84%E6%95%B0%E5%AD%97%E3%80%82%0A*%20%E8%8B%A5%60(m%2Bn)%252%3D%3D%3D0%60%E4%B8%AD%E4%BD%8D%E6%95%B0%E5%B0%B1%E6%98%AF%E4%BD%8D%E4%BA%8E%E5%90%88%E5%B9%B6%E5%90%8E%E6%95%B0%E7%BB%84%60len%2F2%60%E5%92%8C%60len%2F2%2B1%60%E7%9A%84%E6%95%B0%E5%AD%97%E7%9A%84%E5%B9%B3%E5%9D%87%E6%95%B0%E3%80%82%0A%E6%89%80%E4%BB%A5%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E5%B0%B1%E6%98%AF%E6%8E%92%E5%BA%8F%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86%2C%E8%BF%99%E9%87%8C%E6%88%91%E4%BB%AC%E9%87%87%E7%94%A8%E6%8C%87%E9%92%88%E6%B3%95%E6%8E%92%E5%BA%8F%E8%BF%99%E6%A0%B7%E6%9C%80%E5%A4%9A%E5%8F%AA%E9%9C%80%E8%A6%81%E7%A7%BB%E5%8A%A8%60len%2F2%2B1%60%E5%B0%B1%E8%83%BD%E8%8E%B7%E5%BE%97%E7%AD%94%E6%A1%88%E3%80%82%0A%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9A%E9%81%8D%E5%8E%86%20%60len%2F2%2B1%60%20%E6%AC%A1%EF%BC%8C%60len%3Dm%2Bn%60%EF%BC%8C%E6%89%80%E4%BB%A5%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%98%AF%20%60O(m%2Bn)%60%E3%80%82%0A%0A%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%EF%BC%9A%E6%88%91%E4%BB%AC%E7%94%B3%E8%AF%B7%E4%BA%86%E5%B8%B8%E6%95%B0%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF%60m%60%EF%BC%8C%60n%60%EF%BC%8C%60len%60%EF%BC%8C%60pointer1%60%EF%BC%8C%60pointer2%60%EF%BC%8C%60newVal%60%EF%BC%8C%60oldVal%60%20%E4%BB%A5%E5%8F%8A%20%60i%60%E3%80%82%0A%0A%E6%80%BB%E5%85%B1%208%20%E4%B8%AA%E5%8F%98%E9%87%8F%EF%BC%8C%E6%89%80%E4%BB%A5%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E6%98%AF%20%60O(1)%60%E3%80%82%0A%0A%E4%BD%86%E8%BF%99%E5%B9%B6%E4%B8%8D%E7%AC%A6%E5%90%88%E9%A2%98%E7%9B%AE%E4%B8%AD%E8%A6%81%E6%B1%82%E7%9A%84%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%60O(log(m%20%2B%20n))%60%0A%23%23%23%23%23%23%20%E4%BB%A3%E7%A0%81%0A%60%60%60%0A%2F**%0A%20*%20%40param%20%7Bnumber%5B%5D%7D%20nums1%0A%20*%20%40param%20%7Bnumber%5B%5D%7D%20nums2%0A%20*%20%40return%20%7Bnumber%7D%0A%20*%2F%0Avar%20findMedianSortedArrays%20%3D%20function%20(nums1%2C%20nums2)%20%7B%0A%20%20%20%20let%20m%20%3D%20nums1.length%0A%20%20%20%20let%20n%20%3D%20nums2.length%0A%20%20%20%20let%20len%20%3D%20m%20%2B%20n%0A%20%20%20%20let%20pointer1%20%3D%200%2C%20pointer2%20%3D%200%0A%20%20%20%20let%20newVal%2C%20oldVal%0A%20%20%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%3D%20len%20%2F%202%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20%20%20oldVal%20%3D%20newVal%0A%20%20%20%20%20%20%20%20if%20(pointer1%20%3C%20m%20%26%26%20(nums1%5Bpointer1%5D%20%3C%3D%20nums2%5Bpointer2%5D%20%7C%7C%20pointer2%20%3E%3D%20n))%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newVal%20%3D%20nums1%5Bpointer1%2B%2B%5D%0A%20%20%20%20%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20newVal%20%3D%20nums2%5Bpointer2%2B%2B%5D%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20if%20((len%20%25%202)%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20%20%20return%20(newVal%20%2B%20oldVal)%20%2F%202%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20%20%20return%20newVal%0A%20%20%20%20%7D%0A%7D%3B%0A%60%60%60%0A%0A%23%23%23%23%23%20%E9%A2%98%E8%A7%A3%E4%BA%8C%EF%BC%9A%E4%BA%8C%E5%88%86%E6%B3%95
