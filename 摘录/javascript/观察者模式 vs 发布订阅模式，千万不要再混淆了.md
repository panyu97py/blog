## å‰è¨€

è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒè®¢é˜…æ¨¡å¼ä½œä¸ºæ—¥å¸¸å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨åˆ°çš„æ¨¡å¼ï¼Œå°åŒ…ä¸€ç›´ä¸èƒ½åšåˆ°å¾ˆå¥½çš„åŒºåˆ†ï¼Œå‰å‡ å¤©åœ¨å¬æ‰‹å†™ `promise` æºç æ—¶ï¼Œè€å¸ˆè¯¦ç»†çš„è®²è§£äº†ä¸¤ç§æ¨¡å¼ï¼Œå‘ç°è‡ªå·±è¿˜æ˜¯å¾ˆéš¾åƒé€ã€‚

èµ¶å¾—æ—©ä¸å¦‚èµ¶å¾—å·§ï¼Œæœ€è¿‘å°åŒ…æ­£å¥½åœ¨ä½¿ç”¨æ­¦ä¾ é£è§£è¯»`JavaScript` ï¼Œæ­¦ä¾ ä¸–ç•ŒçœŸçš„å¯ä»¥èµ‹äºˆ `JavaScript` ä¸ä¸€æ ·çš„é­…åŠ›ï¼Œä¸‹é¢å°±æ¥çœ‹ä¸€ä¸‹å°åŒ…å¦‚ä½•ç”¨æ­¦ä¾ ç†è§£è®¾è®¡æ¨¡å¼ï¼Œå¹¶é™„å¸¦å‡ ä¸ªç°å®æ¡ˆä¾‹ï¼ŒåŠ©ä½ å½»åº•ç†è§£è§‚å¯Ÿè€…æ¨¡å¼ä¸å‘å¸ƒè®¢é˜…æ¨¡å¼ã€‚

## æ•…äº‹èƒŒæ™¯

å‰ç«¯å®—é—¨è‡ªä»å‘å¸ƒäº†ä¼ æ‰¿æ–¹æ¡ˆåï¼Œå®—é—¨æ—¥æ¸ç¹è£ï¼Œå¼Ÿå­ä»¬çš„æ°´å¹³ä¸æ–­æé«˜ï¼Œä½†æ–°çš„é—®é¢˜å‡ºç°äº†â€”â€”é«˜è´¨é‡ä»»åŠ¡ä¸¥é‡ä¸è¶³ã€‚å®—é—¨ä»»åŠ¡å¤§æ®¿æ¯ä¸ªæœˆå‘å¸ƒçš„äº”æ˜Ÿä»»åŠ¡æ˜¯æœ‰é™çš„ï¼Œæƒ³è¦æ¥å–äº”æ˜Ÿä»»åŠ¡çš„å¼Ÿå­å´å¦‚è¿‡æ±Ÿä¹‹é²«ï¼Œäºæ˜¯æ»‹ç”Ÿäº†**æ­¦ä¾ é»„ç‰›**ï¼Œæ¶æ„æŠ¢ä»»åŠ¡ï¼Œååœ°èµ·ä»·ã€‚

å®—é—¨ä¸æ„¿ä»»åŠ¡è¢«æ¶æ„å“„æŠ¢ï¼Œå†³å®šè°ƒæ•´ä»»åŠ¡å¸‚åœºç§©åºï¼Œå› æ­¤æ¨å‡ºä»»åŠ¡è®¢é˜…åŠŸèƒ½â€”â€”è§‚å¯Ÿè€…æ¨¡å¼ã€‚

## è§‚å¯Ÿè€…æ¨¡å¼

ä»»åŠ¡è®¢é˜…çš„å¤§è‡´åŠŸèƒ½æ˜¯è¿™æ ·çš„: å®—é—¨æ¨å‡ºäº”æ˜Ÿä»»åŠ¡è®¢é˜…åŠŸèƒ½ï¼Œå¼Ÿå­é€šè¿‡è´­ä¹°è·å¾—è®¢é˜…æƒé™ï¼Œå½“å®—é—¨å‘å¸ƒäº”æ˜Ÿä»»åŠ¡åï¼Œä¼šé€šçŸ¥æ‹¥æœ‰è®¢é˜…æƒé™çš„å¼Ÿå­ã€‚

é‚£ä¹ˆä»»åŠ¡è®¢é˜…åŠŸèƒ½ä¸­æœ‰ä¸¤ç±»ä¸»ä½“:

- å®—é—¨ä»»åŠ¡å¤§æ®¿
  - ç»´æŠ¤æ‹¥æœ‰è®¢é˜…æƒé™çš„å¼Ÿå­åˆ—è¡¨
  - æä¾›å¼Ÿå­è´­ä¹°è®¢é˜…æƒé™çš„åŠŸèƒ½
  - å‘å¸ƒå¯¹åº”ä»»åŠ¡åé€šçŸ¥æœ‰è®¢é˜…æƒé™çš„å¼Ÿå­
- æ¥å—ä»»åŠ¡é€šçŸ¥çš„å¼Ÿå­ä»¬

ä¸Šé¢å®—é—¨ä»»åŠ¡å¤§æ®¿ä¸å¼Ÿå­é—´çš„å…³ç³»å…¶å®å°±æ„æˆäº†ä¸€ä¸ªè§‚å¯Ÿè€…æ¨¡å¼ã€‚

**é‚£ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼é‚£ï¼Ÿ** å½“å¯¹è±¡ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»æ—¶ï¼Œå…¶ä¸­ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œæ‰€æœ‰ä¾èµ–å®ƒçš„å¯¹è±¡éƒ½ä¼šæ”¶åˆ°é€šçŸ¥ï¼Œè¿™å°±æ˜¯è§‚å¯Ÿè€…æ¨¡å¼ã€‚

åœ¨è§‚å¯Ÿè€…æ¨¡å¼ä¸­ï¼Œåªæœ‰ä¸¤ç§ä¸»ä½“ï¼šç›®æ ‡å¯¹è±¡ (`Object`) å’Œ è§‚å¯Ÿè€… (`Observer`)ã€‚å®—é—¨ä»»åŠ¡å¤§æ®¿å°±æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œå¼Ÿå­ä»¬å°±æ˜¯è§‚å¯Ÿè€…ã€‚

- ç›®æ ‡å¯¹è±¡ 

  ```javascript
  Subject
  ```

  :

  - ç»´æŠ¤è§‚å¯Ÿè€…åˆ—è¡¨ `observerList` â€”â€”â€”â€” ç»´æŠ¤æ‹¥æœ‰è®¢é˜…æƒé™çš„å¼Ÿå­åˆ—è¡¨
  - å®šä¹‰æ·»åŠ è§‚å¯Ÿè€…çš„æ–¹æ³• â€”â€”â€”â€” æä¾›å¼Ÿå­è´­ä¹°è®¢é˜…æƒé™çš„åŠŸèƒ½
  - å½“è‡ªèº«å‘ç”Ÿå˜åŒ–åï¼Œé€šè¿‡è°ƒç”¨è‡ªå·±çš„ `notify` æ–¹æ³•ä¾æ¬¡é€šçŸ¥æ¯ä¸ªè§‚å¯Ÿè€…æ‰§è¡Œ `update` æ–¹æ³• â€”â€”â€”â€” å‘å¸ƒå¯¹åº”ä»»åŠ¡åé€šçŸ¥æœ‰è®¢é˜…æƒé™çš„å¼Ÿå­

- è§‚å¯Ÿè€… `Observer` éœ€è¦å®ç° `update` æ–¹æ³•ï¼Œä¾›ç›®æ ‡å¯¹è±¡è°ƒç”¨ã€‚`update`æ–¹æ³•ä¸­å¯ä»¥æ‰§è¡Œè‡ªå®šä¹‰çš„ä¸šåŠ¡é€»è¾‘ â€”â€”â€”â€” å¼Ÿå­ä»¬éœ€è¦å®šä¹‰æ¥æ”¶ä»»åŠ¡é€šçŸ¥åçš„æ–¹æ³•ï¼Œä¾‹å¦‚å»æŠ¢ä»»åŠ¡æˆ–ä»»åŠ¡ä¸é€‚åˆï¼Œç»§ç»­ç­‰å¾…ä¸‹ä¸€ä¸ªä»»åŠ¡

æˆ‘ä»¬æŠŠä¸Šé¢çš„æ–‡å­—å½¢è±¡åŒ–ä¸€ä¸‹:

![Observer.png](assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%20vs%20%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%8D%83%E4%B8%87%E4%B8%8D%E8%A6%81%E5%86%8D%E6%B7%B7%E6%B7%86%E4%BA%86.assets/1f96a826bb7945dd96f9696f41b45534~tplv-k3u1fbpfcp-watermark.awebp)

```javascript
class Observer {
    constructor(name) {
        this.name = name;
    }
    update({taskType, taskInfo}) {
        // å‡è®¾ä»»åŠ¡åˆ†ä¸ºæ—¥å¸¸routeå’Œæˆ˜æ–—war
        if (taskType === "route") {
            console.log(`${this.name}ä¸éœ€è¦æ—¥å¸¸ä»»åŠ¡`);
            return;
        }
        this.goToTaskHome(taskInfo);
        
    }
    goToTaskHome(info) {
        console.log(`${this.name}å»ä»»åŠ¡å¤§æ®¿æŠ¢${info}ä»»åŠ¡`);
    }
}

class Subject {
    constructor() {
        this.observerList = []
    }
    addObserver(observer) {
        this.observerList.push(observer);
    }
    notify(task) {
        console.log("å‘å¸ƒäº”æ˜Ÿä»»åŠ¡");
        this.observerList.forEach(observer => observer.update(task))
    }
}

const subject = new Subject();
const stu1 = new Observer("å¼Ÿå­1");
const stu2 = new Observer("å¼Ÿå­2");

// stu1 stu2 è´­ä¹°äº”æ˜Ÿä»»åŠ¡é€šçŸ¥æƒé™
subject.addObserver(stu1);
subject.addObserver(stu2);

// ä»»åŠ¡æ®¿å‘å¸ƒäº”æ˜Ÿæˆ˜æ–—ä»»åŠ¡
const warTask = {
    taskType: 'war',
    taskInfo: "çŒæ€æ—¶åˆ»"
}

// ä»»åŠ¡å¤§æ®¿é€šçŸ¥è´­ä¹°æƒé™å¼Ÿå­
subject.notify(warTask);

// ä»»åŠ¡æ®¿å‘å¸ƒäº”æ˜Ÿæ—¥å¸¸ä»»åŠ¡
const routeTask = {
    taskType: 'route',
    taskInfo: "ç§æ ‘æµ‡æ°´"
}

subject.notify(warTask);

å¤åˆ¶ä»£ç 
```

è¾“å‡ºç»“æœ:

```javascript
// æˆ˜æ–—ä»»åŠ¡
å‘å¸ƒäº”æ˜Ÿä»»åŠ¡
å¼Ÿå­1å»ä»»åŠ¡å¤§æ®¿æŠ¢çŒæ€æ—¶åˆ»ä»»åŠ¡
å¼Ÿå­2å»ä»»åŠ¡å¤§æ®¿æŠ¢çŒæ€æ—¶åˆ»ä»»åŠ¡

// æ—¥å¸¸ä»»åŠ¡
å‘å¸ƒäº”æ˜Ÿä»»åŠ¡
å¼Ÿå­1å»ä»»åŠ¡å¤§æ®¿æŠ¢çŒæ€æ—¶åˆ»ä»»åŠ¡
å¼Ÿå­2å»ä»»åŠ¡å¤§æ®¿æŠ¢çŒæ€æ—¶åˆ»ä»»åŠ¡
å¤åˆ¶ä»£ç 
```

é€šè¿‡ä¸Šé¢ä»£ç æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå½“å®—é—¨å‘å¸ƒä»»åŠ¡åï¼Œè®¢é˜…çš„å¼Ÿå­(è§‚å¯Ÿè€…ä»¬)éƒ½ä¼šæ”¶åˆ°ä»»åŠ¡æœ€æ–°é€šçŸ¥ã€‚

çœ‹åˆ°è¿™é‡Œï¼Œä¸çŸ¥é“ä½ å¯ä»¥ç†è§£è§‚å¯Ÿè€…æ¨¡å¼äº†ï¼Ÿ

**å°åŒ…å†ç»™ä¸¾ä¸ªæ —å­**: æ¯”å¦‚ä½ è¦åº”è˜é˜¿é‡Œå·´å·´çš„å‰ç«¯å·¥ç¨‹å¸ˆï¼Œç»“æœé˜¿é‡Œå·´å·´ HR å‘Šè¯‰ä½ æ²¡å‘ä½äº†ï¼Œç•™ä¸‹ä½ çš„ç”µè¯ï¼Œç­‰æœ‰å‘ä½è”ç³»ä½ ã€‚äºæ˜¯ï¼Œä½ ç¾æ»‹æ»‹çš„ç•™ä¸‹äº†è”ç³»æ–¹å¼ã€‚æ®Šä¸çŸ¥ï¼ŒHR å·²ç»ç•™ä¸‹äº†å¥½å¤šè”ç³»æ–¹å¼ã€‚å¥½åœ¨ 2022 å¹´ 2 æœˆ 30 å·é‚£å¤©ï¼Œé˜¿é‡Œå·´å·´æœ‰äº†å‰ç«¯å·¥ç¨‹å¸ˆçš„å‘ä½ï¼ŒHR æŒ¨ç€ç»™ç•™ä¸‹çš„è”ç³»æ–¹å¼è”ç³»äº†ä¸€é€šã€‚

æ¡ˆä¾‹ä¸­é˜¿é‡Œå·´å·´å°±æ˜¯ç›®æ ‡å¯¹è±¡ `Subject` ï¼Œè”ç³»æ–¹å¼åˆ—è¡¨å°±æ˜¯ç”¨æ¥ç»´æŠ¤è§‚å¯Ÿè€…çš„ `observerList` ï¼Œæ ¹æ®å‰ç«¯èŒä½çš„æœ‰æ— æ¥è°ƒç”¨ `notify` æ–¹æ³•ã€‚

## å‘å¸ƒè®¢é˜…æ¨¡å¼

**é‚£ä»€ä¹ˆæ˜¯å‘å¸ƒè®¢é˜…æ¨¡å¼å‘ï¼Ÿ** åŸºäºä¸€ä¸ªäº‹ä»¶ï¼ˆä¸»é¢˜ï¼‰é€šé“ï¼Œå¸Œæœ›æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡ `Subscriber` é€šè¿‡è‡ªå®šä¹‰äº‹ä»¶è®¢é˜…ä¸»é¢˜ï¼Œè¢«æ¿€æ´»äº‹ä»¶çš„å¯¹è±¡ `Publisher` é€šè¿‡å‘å¸ƒä¸»é¢˜äº‹ä»¶çš„æ–¹å¼é€šçŸ¥å„ä¸ªè®¢é˜…è¯¥ä¸»é¢˜çš„ `Subscriber` å¯¹è±¡ã€‚

å› æ­¤å‘å¸ƒè®¢é˜…æ¨¡å¼ä¸è§‚å¯Ÿè€…æ¨¡å¼ç›¸æ¯”ï¼Œå‘å¸ƒè®¢é˜…æ¨¡å¼ä¸­æœ‰ä¸‰ä¸ªè§’è‰²ï¼Œå‘å¸ƒè€… `Publisher` ï¼Œäº‹ä»¶è°ƒåº¦ä¸­å¿ƒ `Event Channel` ï¼Œè®¢é˜…è€… `Subscriber` ã€‚

ä¸Šé¢çš„æ–‡å­—æœ‰äº›éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬ç»§ç»­ä»¥å¼Ÿå­é¢†å–ä»»åŠ¡ä¸ºæ —å­ï¼Œå®—é—¨æ„Ÿè§‰æŠŠä»»åŠ¡è®¢é˜…æ”¾åœ¨ä»»åŠ¡å¤§æ®¿ä¸­æœ‰äº›ç¹çï¼Œäºæ˜¯å†³å®šåœ¨ä»»åŠ¡å¤§æ®¿å’Œå¼Ÿå­ä¸­é—´æ·»åŠ **ä¸­ä»‹**ã€‚å¼Ÿå­åœ¨ä¸­ä»‹ä¸­è®¢é˜…å…¶éœ€è¦çš„ä»»åŠ¡ç±»å‹ï¼Œå½“ä»»åŠ¡å¤§æ®¿å‘å¸ƒä»»åŠ¡åï¼Œä¸­ä»‹ä¼šå°†å‘å¸ƒä»»åŠ¡ç»™å¯¹åº”çš„è®¢é˜…è€…ã€‚

- å®—é—¨ä»»åŠ¡å¤§æ®¿: ä»»åŠ¡å‘å¸ƒè€… â€”â€” `Publisher`

- ä¸­ä»‹åŠŸèƒ½ â€”â€” 

  ```javascript
  Event Channel
  ```

  - ç»´æŠ¤ä»»åŠ¡ç±»å‹ï¼Œä»¥åŠæ¯ç§ä»»åŠ¡ä¸‹çš„è®¢é˜…æƒ…å†µ
  - ç»™è®¢é˜…è€…æä¾›è®¢é˜…åŠŸèƒ½ â€”â€” `subscribe` åŠŸèƒ½
  - å½“å®—é—¨å‘å¸ƒä»»åŠ¡åï¼Œä¸­ä»‹ä¼šç»™æ‰€æœ‰çš„è®¢é˜…è€…å‘å¸ƒä»»åŠ¡ â€”â€” `publish` åŠŸèƒ½

- å¼Ÿå­: ä»»åŠ¡æ¥å—è€… â€”â€” `Subscriber`

![publish-subscribe.png](assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%20vs%20%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%8D%83%E4%B8%87%E4%B8%8D%E8%A6%81%E5%86%8D%E6%B7%B7%E6%B7%86%E4%BA%86.assets/8fc5d255760a4192a939785e427fabec~tplv-k3u1fbpfcp-watermark.awebp)

**å°åŒ…å†ç»™å¤§å®¶ä¸¾ä¸ªä¾‹å­**: ä»¥ç›®å‰çš„**çƒ­æ’­å‰§å¼€ç«¯**ä¸ºä¾‹ï¼Œä¸´è¿‘è¿‡å¹´ï¼Œæ‘¸é±¼çš„å¿ƒæ€è¶Šæ¥è¶Šé‡ï¼Œæ¯å¤©å°±è¿«ä¸åŠå¾…çš„ç­‰å¼€ç«¯æ›´æ–°ï¼Œæƒ³åœ¨å¼€ç«¯æ›´æ–°çš„ç¬¬ä¸€åˆ»å°±å¼€å§‹çœ‹å‰§ï¼Œé‚£ä½ ä¼šæ€ä¹ˆåšé‚£ï¼Ÿæ€»ä¸èƒ½æ—¶æ—¶åˆ»åˆ»åˆ·æ–°é¡µé¢å§ã€‚å¹³å°æä¾›äº†æ¶ˆæ¯è®¢é˜…åŠŸèƒ½ï¼Œå¦‚æœä½ é€‰æ‹©è®¢é˜…ï¼Œå¹³å°æ›´æ–°å¼€ç«¯åï¼Œä¼šç¬¬ä¸€æ—¶é—´å‘æ¶ˆæ¯é€šçŸ¥ä½ ï¼Œè®¢é˜…åï¼Œä½ å°±å¯ä»¥æ„‰å¿«çš„è¿½å‰§äº†ã€‚

ä¸Šé¢æ¡ˆä¾‹ä¸­ï¼Œå¼€ç«¯å°±æ˜¯å‘å¸ƒè€… `Publisher`ï¼Œè¿½å‰§äººå°±æ˜¯è®¢é˜…è€… `Subscribe`ï¼Œå¹³å°åˆ™æ‰¿æ‹…äº†äº‹ä»¶é€šé“ `Event Channel` åŠŸèƒ½ã€‚

```javascript
class PubSub {
    constructor() {
        // äº‹ä»¶ä¸­å¿ƒ
        // å­˜å‚¨æ ¼å¼: warTask: [], routeTask: []
        // æ¯ç§äº‹ä»¶(ä»»åŠ¡)ä¸‹å­˜æ”¾å…¶è®¢é˜…è€…çš„å›è°ƒå‡½æ•°
        this.events = {}
    }
    // è®¢é˜…æ–¹æ³•
    subscribe(type, cb) {
        if (!this.events[type]) {
            this.events[type] = [];
        }
        this.events[type].push(cb);
    }
    // å‘å¸ƒæ–¹æ³•
    publish(type, ...args) {
        if (this.events[type]) {
            this.events[type].forEach(cb => cb(...args))
        }
    }
    // å–æ¶ˆè®¢é˜…æ–¹æ³•
    unsubscribe(type, cb) {
        if (this.events[type]) {
            const cbIndex = this.events[type].findIndex(e=> e === cb)
            if (cbIndex != -1) {
                this.events[type].splice(cbIndex, 1);
            }
        }
        if (this.events[type].length === 0) {
            delete this.events[type];
        }
    }
    unsubscribeAll(type) {
        if (this.events[type]) {
            delete this.events[type];
        }
    }
}

// åˆ›å»ºä¸€ä¸ªä¸­ä»‹å…¬å¸
let pubsub = new PubSub();

// å¼Ÿå­ä¸€è®¢é˜…æˆ˜æ–—ä»»åŠ¡
pubsub.subscribe('warTask', function (taskInfo){
    console.log("å®—é—¨æ®¿å‘å¸ƒæˆ˜æ–—ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
})
// å¼Ÿå­ä¸€è®¢é˜…æˆ˜æ–—ä»»åŠ¡
pubsub.subscribe('routeTask', function (taskInfo) {
    console.log("å®—é—¨æ®¿å‘å¸ƒæ—¥å¸¸ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
});
// å¼Ÿå­ä¸‰è®¢é˜…å…¨ç±»å‹ä»»åŠ¡
pubsub.subscribe('allTask', function (taskInfo) {
    console.log("å®—é—¨æ®¿å‘å¸ƒäº”æ˜Ÿä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:" + taskInfo);
});

// å‘å¸ƒæˆ˜æ–—ä»»åŠ¡
pubsub.publish('warTask', "çŒæ€æ—¶åˆ»");
pubsub.publish('allTask', "çŒæ€æ—¶åˆ»");

// å‘å¸ƒæ—¥å¸¸ä»»åŠ¡
pubsub.publish('routeTask', "ç§æ ‘æµ‡æ°´");
pubsub.publish('allTask', "ç§æ ‘æµ‡æ°´");
å¤åˆ¶ä»£ç 
```

è¾“å‡ºç»“æœ:

```js
// æˆ˜æ–—ä»»åŠ¡
å®—é—¨æ®¿å‘å¸ƒæˆ˜æ–—ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:çŒæ€æ—¶åˆ»
å®—é—¨æ®¿å‘å¸ƒäº”æ˜Ÿä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:çŒæ€æ—¶åˆ»
// æ—¥å¸¸ä»»åŠ¡
å®—é—¨æ®¿å‘å¸ƒæ—¥å¸¸ä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:ç§æ ‘æµ‡æ°´
å®—é—¨æ®¿å‘å¸ƒäº”æ˜Ÿä»»åŠ¡ï¼Œä»»åŠ¡ä¿¡æ¯:ç§æ ‘æµ‡æ°´
å¤åˆ¶ä»£ç 
```

é€šè¿‡è¾“å‡ºç»“æœï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°å‘å¸ƒè€…å’Œè®¢é˜…è€…ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨ã€‚éœ€è¦ç¬¬ä¸‰æ–¹ä¸­ä»‹ï¼Œå°†è®¢é˜…è€…å’Œå‘å¸ƒè€…ä¸²è”èµ·æ¥ï¼Œåˆ©ç”¨ä¸­ä»‹è¿‡æ»¤å’Œåˆ†é…æ‰€æœ‰è¾“å…¥çš„æ¶ˆæ¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**å‘å¸ƒ-è®¢é˜…æ¨¡å¼ç”¨æ¥å¤„ç†ä¸åŒç³»ç»Ÿç»„ä»¶çš„ä¿¡æ¯äº¤æµï¼Œå³ä½¿è¿™äº›ç»„ä»¶ä¸çŸ¥é“å¯¹æ–¹çš„å­˜åœ¨**ã€‚

## æ€»ç»“

ä¸Šæ–‡ä¸­æåˆ°äº†è§‚å¯Ÿè€…æ¨¡å¼å’Œå‘å¸ƒâ€”â€”è®¢é˜…æ¨¡å¼ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹ä¸¤è€…å·®å¼‚:

![observer-publish_subscribe.png](assets/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%20vs%20%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%8D%83%E4%B8%87%E4%B8%8D%E8%A6%81%E5%86%8D%E6%B7%B7%E6%B7%86%E4%BA%86.assets/52a175a22ade4793a0297b18c5fb293d~tplv-k3u1fbpfcp-watermark.awebp)

| è®¾è®¡æ¨¡å¼ | è§‚å¯Ÿè€…æ¨¡å¼                                    | å‘å¸ƒè®¢é˜…æ¨¡å¼                                            |
| -------- | --------------------------------------------- | ------------------------------------------------------- |
| ä¸»ä½“     | Objectè§‚å¯Ÿè€…ã€Subjectç›®æ ‡å¯¹è±¡                 | Publisherå‘å¸ƒè€…ã€Event Channeläº‹ä»¶ä¸­å¿ƒã€Subscribeè®¢é˜…è€… |
| ä¸»ä½“å…³ç³» | Subjectä¸­é€šè¿‡observerListè®°å½•ObServer         | Publisherå’ŒSubscribeä¸æƒ³ä¸çŸ¥é“å¯¹æ–¹ï¼Œé€šè¿‡ä¸­ä»‹è”ç³»        |
| ä¼˜ç‚¹     | è§’è‰²æ˜ç¡®ï¼ŒSubjectå’ŒObjectè¦éµå¾ªçº¦å®šçš„æˆå‘˜æ–¹æ³• | æ¾æ•£è€¦åˆï¼Œçµæ´»åº¦é«˜ï¼Œé€šå¸¸åº”ç”¨åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­                |
| ç¼ºç‚¹     | ç´§è€¦åˆ                                        | å½“äº‹ä»¶ç±»å‹å˜å¤šæ—¶ï¼Œä¼šå¢åŠ ç»´æŠ¤æˆæœ¬                        |
| ä½¿ç”¨æ¡ˆä¾‹ | åŒå‘æ•°æ®ç»‘å®š                                  | äº‹ä»¶æ€»çº¿EventBus                                        |

## çƒ­æ–‡æ¨è

### è¿‘æœŸç²¾å½©

- [ç”¨ç²’å­åŠ¨ç”»æ¥å¿†èµ·ä½ çš„æ˜¥èŠ‚æ—¶å…‰ | æ”¯æŒè¡¨æƒ…æ–‡å­—](https://juejin.cn/post/7052152858518487053)
- [æ—‹è½¬å§,React!â€”â€”èˆèµ·æ¥çš„Reactå›¾æ ‡](https://juejin.cn/post/7049867581141811208)
- [è¶…è§£å‹ï¼Œå®ç°ç²’å­çš„ä¸‡æœ‰å¼•åŠ›ä¸æ–¥åŠ›æ•ˆæœ](https://juejin.cn/post/7043612861326688263)

### JavaScriptè¿›é˜¶ç³»åˆ—

- [JavaScriptè¿›é˜¶ä¹‹å½»åº•ç†è§£åŸå‹ä¸åŸå‹é“¾](https://link.juejin.cn?target=https%3A%2F%2Fsourl.cn%2FgYuMtS)
- [JavaScriptè¿›é˜¶ä¹‹é¢„ç¼–è¯‘å­¦ä¹ ](https://link.juejin.cn?target=https%3A%2F%2Fsourl.cn%2F4MBadZ)
- [JavaScriptè¿›é˜¶ä¹‹å½»åº•ç†æ¸…JSä¸­thisæŒ‡å‘é—®é¢˜ |ã€Š2wå­—å¤§ç«  38é“é¢è¯•é¢˜ã€‹](https://link.juejin.cn?target=https%3A%2F%2Fsourl.cn%2FgxesRk)
- [JavaScriptè¿›é˜¶ä¹‹å½»åº•ç†è§£EventLoop](https://link.juejin.cn?target=https%3A%2F%2Fsourl.cn%2FichQyc)
- [JavaScriptè¿›é˜¶ä¹‹ä½œç”¨åŸŸä¸ä½œç”¨åŸŸé“¾](https://link.juejin.cn?target=https%3A%2F%2Fsourl.cn%2FciUnrS)

### é¢è¯•éƒ¨åˆ†

- [ç‰›å®¢æœ€æ–°å‰ç«¯é¢ç»é¢è¯•é¢˜æ±‡æ€»(å«è§£æ)](https://juejin.cn/post/7028478428680552456)
- [ç‰›å®¢æœ€æ–°å‰ç«¯JSç¬”è¯•ç™¾é¢˜](https://juejin.cn/post/7023271065392513038)
- [2021å¹´å‰ç«¯å„å¤§å…¬å¸éƒ½è€ƒäº†é‚£äº›æ‰‹å†™é¢˜](https://juejin.cn/post/7033275515880341512)
- [åŸç”ŸJavaScriptçµé­‚æ‹·é—®(ä¸€)ï¼Œä½ èƒ½ç­”ä¸Šå¤šå°‘ï¼Ÿ](https://juejin.cn/post/7021750693262262308)

### å¿«ä¹ç¼–ç¨‹

- [CSSå®ç°ä¸€åªè‡ªç”±é£ç¿”çš„é¸Ÿå„¿ğŸ¦](https://juejin.cn/post/7032876592544088101)
- [ç»™VSCodeå’Œç½‘ç«™é¢†å…»å–µå’ª ä¸€èµ·å¿«ä¹æ’¸çŒ«](https://juejin.cn/post/7026910973663379470)

## å‚è€ƒé“¾æ¥

- [ä»ä¸€é“é¢è¯•é¢˜ç®€å•è°ˆè°ˆå‘å¸ƒè®¢é˜…å’Œè§‚å¯Ÿè€…æ¨¡å¼](https://juejin.cn/post/6844904018964119566)
- [è§‚å¯Ÿè€…æ¨¡å¼ vs å‘å¸ƒ-è®¢é˜…æ¨¡å¼](https://juejin.cn/post/6844903513009422343)

## åè¯­

ä¼™ä¼´ä»¬ï¼Œå¦‚æœå¤§å®¶æ„Ÿè§‰æœ¬æ–‡å¯¹ä½ æœ‰ä¸€äº›å¸®åŠ©ï¼Œç»™é˜¿åŒ…ç‚¹ä¸€ä¸ªèµğŸ‘æˆ–è€…å…³æ³¨â•éƒ½æ˜¯å¯¹æˆ‘æœ€å¤§çš„æ”¯æŒã€‚

å¦å¤–å¦‚æœæœ¬æ–‡ç« æœ‰é—®é¢˜ï¼Œæˆ–è€…å¯¹æ–‡ç« å…¶ä¸­ä¸€éƒ¨åˆ†ä¸ç†è§£ï¼Œéƒ½å¯ä»¥è¯„è®ºåŒºå›å¤æˆ‘ï¼Œæˆ‘ä»¬æ¥ä¸€èµ·è®¨è®ºï¼Œå…±åŒå­¦ä¹ ï¼Œä¸€èµ·è¿›æ­¥ï¼



## åŸæ–‡åœ°å€

ä½œè€…ï¼šæˆ˜åœºå°åŒ…



é“¾æ¥ï¼š[https://juejin.cn/post/7055441354054172709](https://juejin.cn/post/7055441354054172709)



æ¥æºï¼šç¨€åœŸæ˜é‡‘



è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚